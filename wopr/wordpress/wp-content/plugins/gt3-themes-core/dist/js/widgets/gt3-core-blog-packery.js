!function(e){var t={};function o(i){if(t[i])return t[i].exports;var n=t[i]={i:i,l:!1,exports:{}};return e[i].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=t,o.d=function(e,t,i){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(i,n,function(t){return e[t]}.bind(null,n));return i},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/",o(o.s=644)}({644:function(e,t,o){"use strict";o.r(t);var i,n,r,s;o(645);function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var u=0;var c=GT3,d=(c.Hooks,c.autobind),p=c.ThemesCore,f=p.Widgets.BasicWidget,g=p.isRTL,_=p.jQuery,m=c.Isotope,y=d((r="__private_"+u+++"_"+"ui",s=n=function(e){var t,o;function i(){var t;t=e.apply(this,arguments)||this,Object.defineProperty(a(t),r,{writable:!0,value:{isotope:".isotope_wrapper",$isotope:".isotope_wrapper"}}),t.isotope=null,t.query={};var o=GT3,i=o.ThemesCore.editMode;if(t.init(),t.extendUI(l(a(t),r)[r]),!t.ui.isotope)return a(t);if(t.settings.render_index=t.ui.$isotope.attr("data-post-index"),t.query={settings:t.settings},t.query.action="gt3_themes_core_blogpackery_load_items",t.query.settings.query.paged=0,t.ui.$isotope.imagesLoaded((function(){t.countFilterElements(t.ui.$isotope),t.resize()})),t.isotope=new m(t.ui.isotope,{layoutMode:"masonry",itemSelector:".isotope_item",percentPosition:!0,stagger:30,transitionDuration:"0.4s",masonry:{},originLeft:!g}),!i&&t.query){var n=!1;_(".blogpackery_view_more_link",t.el).on("click",(function(e){e.preventDefault(),n||(n=!0,t.query.render_index=t.ui.$isotope.find(".isotope_wrapper").attr("data-post-index"),t.query.settings.query.paged++,_.ajax({type:"POST",data:t.query,url:gt3_themes_core.ajaxurl,success:function(e){if("post_count"in e&&e.post_count>0){var o=t.ui.$isotope.attr("data-post-index");t.ui.$isotope.attr("data-post-index",Number(o)+e.post_count);var i=document.createElement("div");i.innerHTML=e.respond,t.isotope.once("insertComplete",(function(){t.show_lazy_images(t.ui.$isotope)})),t.isotope.once("layoutComplete",(function(){t.resize(),t.showImages()})),t.isotope.insert(i)}"max_page"in e&&(e.max_page<=t.query.settings.query.paged||0===e.max_page)&&_(".blogpackery_view_more_link",t.el).remove(),"exclude"in e&&(t.query.settings.query.exclude=e.exclude),n=!1},error:function(e){console.error("Error request"),n=!1}}))})),_(t.el).on("click",".isotope-filter:not(.isotope-filter--links) a",(function(e){e.preventDefault();var o=e.target||e.currentTarget,i=o.getAttribute("data-filter");_(o).siblings().removeClass("active"),_(o).addClass("active"),t.isotope.arrange({filter:i}),t.show_lazy_images(t.ui.$isotope)}))}return t.show_lazy_images(t.ui.$isotope),setTimeout((function(){t.videoPopup_init(),t.slick_gallery_init()})),t.afterInit(),t}o=e,(t=i).prototype=Object.create(o.prototype),t.prototype.constructor=t,t.__proto__=o;var n=i.prototype;return n.start=function(){this.showImages()},n.countFilterElements=function(e){var t,o,i=e.find(".isotope-filter").children(),n=e.find(".gt3_isotope_parent");i.length&&i.each((function(e,i){i=_(i),t=i.attr("data-filter"),o="*"===t?n.children().length:n.find(t).length,_(".theme-utah").length&&o<10&&(o="0"+o),i.attr("data-count",o)}))},n.resize=function(){if(this.isotope){var e=this.ui.$isotope.find(".isotope_item.packery_extra_size-default").outerWidth();this.isotope.arrange({masonry:{columnWidth:e/2-.02,rowHeight:e/2-.02}})}},n.slick_gallery_init=function(){if(_(".slick_wrapper",this.el).length){var e=_(".slick_wrapper",this.el);e.hasClass("slick-initialized")&&e.slick("unslick"),e.slick({autoplay:!0,arrows:!0,dots:!0,slidesToScroll:1,slidesToShow:1,focusOnSelect:!0,speed:500,fade:!0,cssEase:"linear",dotsClass:"gt3_custom_slick_paging",rtl:g,customPaging:function(e,t){return t+1+"<span>/</span>"+e.slideCount}})}},n.videoPopup_init=function(){var e=_(this.el);e.find(".swipebox-video").length&&e.swipebox({selector:".swipebox-video",useCSS:!0,useSVG:!0,initialIndexOnArray:0,hideCloseButtonOnMobile:!1,removeBarsOnMobile:!0,hideBarsDelay:3e3,videoMaxWidth:1140,autoplayVideos:!0,beforeOpen:function(){},afterOpen:null,afterClose:function(){},loopAtEnd:!1})},n.show_lazy_images=function(e,t){t||(t=e.find("img.gt3_lazyload"));var o=[].slice.call(t),i=!1,n=function e(){!1===i&&(i=!0,setTimeout((function(){o.forEach((function(t){var i=o.length;t.getBoundingClientRect().top<=window.innerHeight&&t.getBoundingClientRect().bottom>=0&&"none"!==getComputedStyle(t).display&&(t.dataset.src&&(t.src=t.dataset.src),t.dataset.srcset&&(t.srcset=t.dataset.srcset),t.dataset.sizes&&(t.sizes=t.dataset.sizes),t.onload=function(){var e=1/(i-o.length)*800;o.length||(e=0),setTimeout((function(){t.classList.remove("gt3_lazyload"),t.classList.add("gt3_lazyload_loaded"),_(t).parents(".isotope_item.lazy_loading").removeClass("lazy_loading").addClass("lazy_loaded")}),e)},0===(o=o.filter((function(e){return e!==t}))).length&&(document.removeEventListener("scroll",e),window.removeEventListener("resize",e),window.removeEventListener("orientationchange",e)))})),i=!1}),200))};n(),document.addEventListener("scroll",n),window.addEventListener("resize",n),window.addEventListener("orientationchange",n)},n.showImages=function(){var e=this.el.querySelector(".isotope_item.loading");e&&(e.classList.add("loaded"),e.classList.remove("loading"),setTimeout(this.showImages,300))},i}(f),n.widgetName="gt3-core-blog-packery",i=s))||i;GT3.ThemesCore.onWidgetRegisterHandler(y.widgetName,y)},645:function(e,t,o){}});